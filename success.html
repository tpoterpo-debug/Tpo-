<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ·Ø¨ÙŠÙ‚ Ø¯Ø±Ø¯Ø´Ø© ÙˆØµØ§Ù†Ø¹ Ø¨ÙˆØªØ§Øª</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: radial-gradient(circle, #1a1a1a, #2e2e2e);
    margin: 0;
    padding: 0;
    color: #e0e0e0;
}

.app-container {
    display: flex;
    height: 100vh;
    padding: 1rem;
    width: 530px;
    max-width: 1500px;
    margin: 0 auto;
    box-shadow: 0 8px 40px rgba(0, 0, 0, 0.8);
    border-radius: 20px;
    overflow: hidden;
}

.sidebar {
    width: 300px;
    background: #3c3c3c;
    padding: 20px;
    overflow-y: auto;
    border-radius: 20px 0 0 20px;
    box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.6);
}

.chat-container {
    flex: 1;
    background: rgba(40, 40, 40, 0.95);
    padding: 20px;
    display: flex;
    flex-direction: column;
    border-left: 2px solid #555;
    border-radius: 0 20px 20px 0;
}

.messages, .commands {
    flex: 1;
    overflow-y: auto;
    padding: 15px;
    background: rgba(68, 68, 68, 0.9);
    margin-bottom: 15px;
    border-radius: 10px;
    border: 2px solid #555; 
    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);
}

.input-container {
    display: flex;
    margin-top: 15px;
}

.input-container input {
    flex: 1;
    padding: 12px;
    border: 1px solid #555;
    border-radius: 8px;
    background: #2a2a2a;
    color: #fff;
    transition: border-color 0.3s, background 0.3s;
}

.input-container input:focus {
    border-color: #25D366;
    background: #3a3a3a;
    outline: none;
    box-shadow: 0 0 5px rgba(37, 211, 102, 0.5);
}

.input-container button {
    padding: 12px;
    background: linear-gradient(90deg, #25D366, #1e7e34);
    color: white;
    cursor: pointer;
    margin-left: 8px;
    border: none;
    border-radius: 8px;
    transition: background 0.3s, transform 0.2s, box-shadow 0.3s;
}

.input-container button:hover {
    background: linear-gradient(90deg, #1e7e34, #25D366);
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(37, 211, 102, 0.6);
}

.bot-item {
    cursor: pointer;
    margin: 12px 0;
    padding: 12px;
    background: #474747;
    border-radius: 8px;
    display: flex;
    align-items: center;
    transition: background 0.3s, transform 0.2s;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
}

.bot-item:hover {
    background: #585858;
    transform: translateY(-2px);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.7);
}

.bot-item img {
    width: 50px;  
    height: 50px; 
    border-radius: 50%; 
    margin-left: 10px; 
}

.home-button {
    position: absolute;
    bottom: 20px;
    left: 20px;
    
    background: linear-gradient(90deg, #28a745, #218838);
    color: white;
    width:50;
    text-align: center;
    border-radius: 8px;
    cursor: pointer;
    font-size: 14px;
    padding: 12px;
    transition: background 0.3s, transform 0.2s;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
}

.home-button:hover {
    background: linear-gradient(90deg, #218838, #28a745);
    transform: translateY(-2px);
}

.image-upload-container, .bot-name-container {
    display: none;
    margin-top: 15px;
}

.bot-item img[src*="ØµØ§Ù†Ø¹ Ø§Ù„ØªÙˆÙƒÙ†"], .bot-item img[src*="ØµØ§Ù†Ø¹ Ø§Ù„Ø¨ÙˆØªØ§Øª"] {
    width: 60px; 
    height: 60px;
    border-radius: 8px;
}

.bot-message {
    background: rgba(55, 55, 55, 0.8); /* Ø®Ù„ÙÙŠØ© Ù…Ø®ØªÙ„ÙØ© Ù„Ù„Ø¨ÙˆØª */
    border-radius: 10px; /* Ø­ÙˆØ§Ù Ø¯Ø§Ø¦Ø±ÙŠØ© */
    padding: 10px; /* Ø­Ø´ÙˆØ© Ø¯Ø§Ø®Ù„ÙŠØ© */
    margin-bottom: 10px; /* Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ */
    display: inline-block
}

.user-message {
    background: rgba(40, 1, 69, 0.8); /* Ù„ÙˆÙ† Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… */
    border-radius: 10px; /* Ø­ÙˆØ§Ù Ø¯Ø§Ø¦Ø±ÙŠØ© */
    padding: 10px; /* Ø­Ø´ÙˆØ© Ø¯Ø§Ø®Ù„ÙŠØ© */
    margin-bottom: 10px; /* Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ */
    display: inline-block
}

.command-message {
    color: #FF5733; /* Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ù…Ø®ØµØµ Ù„Ù„Ø£ÙˆØ§Ù…Ø± Ù…Ø«Ù„ /newbot */
    font-weight: bold; /* ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© ØªÙ†Ø³ÙŠÙ‚ Ø®Ø· Ù„ØªÙ…ÙŠÙŠØ² Ø§Ù„Ø£ÙˆØ§Ù…Ø± */
    display: inline-block
}

.command-frame {
    background: rgba(40, 1, 69, 0.8); /* Ù„ÙˆÙ† Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… */
    border-radius: 10px; /* Ø­ÙˆØ§Ù Ø¯Ø§Ø¦Ø±ÙŠØ© */
    padding: 10px; /* Ø­Ø´ÙˆØ© Ø¯Ø§Ø®Ù„ÙŠØ© */
    margin-bottom: 10px; /* Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ */
display: inline-block
}

.stickers-container {
    margin: 15px 0;
    padding: 10px;
    background: rgba(68, 68, 68, 0.9);
    border-radius: 10px;
}

.sticker {
    display: inline-block;
    padding: 10px;
    margin: 5px;
    background: #555;
    border-radius: 5px;
    color: #fff;
    cursor: pointer;
    transition: background 0.3s;
}
.sticker:hover {
    background: #666;
}

.verification-frame {
    border: 2px solid #3498db; /* Ù„ÙˆÙ† Ø§Ù„Ø¥Ø·Ø§Ø± */
    border-radius: 5px; /* Ø­ÙˆØ§Ù Ø¯Ø§Ø¦Ø±ÙŠØ© */
    padding: 10px; /* Ù…Ø³Ø§ÙØ© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¥Ø·Ø§Ø± */
    background-color: #f0f8ff; /* Ù„ÙˆÙ† Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¥Ø·Ø§Ø± */
    margin: 5px 0; /* Ù‡ÙˆØ§Ù…Ø´ Ø£Ø¹Ù„Ù‰ ÙˆØ£Ø³ÙÙ„ */
}

    </style>
    <style>
        .bot-item {
            display: flex;
            align-items: center;
            margin: 10px 0;
        }
        .verification-icon {
            color: #4caf50; /* Ù„ÙˆÙ† Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ØªÙˆØ«ÙŠÙ‚ */
            font-size: 24px; /* Ø­Ø¬Ù… Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© */
            margin-left: 5px; /* Ø§Ù„Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ù†Øµ ÙˆØ§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© */
        }
    </style>
    <script src="https://cdn.lordicon.com/lordicon.js"></script>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
        <style>
        .bot-item {
            display: flex;
            align-items: center;
            margin: 10px 0;
        }
        .verification-icon {
            color: #FFFFFF; /* Ù„ÙˆÙ† Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ØªÙˆØ«ÙŠÙ‚ */
            font-size: 24px; /* Ø­Ø¬Ù… Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© */
            margin-left: 5px; /* Ø§Ù„Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ù†Øµ ÙˆØ§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© */
        }
    </style>
</head>
<body>

<div class="app-container">
	  	
    <div class="sidebar" id="botList">
        <h3>Ø§Ù„Ø¨ÙˆØªØ§Øª</h3>
        <div class="bot-item" onclick="selectBot('ØµØ§Ù†Ø¹ Ø§Ù„ØªÙˆÙƒÙ†')">
            ØµØ§Ù†Ø¹ Ø§Ù„ØªÙˆÙƒÙ†
            <img src="token_maker.jpg" alt="ØµØ§Ù†Ø¹ Ø§Ù„ØªÙˆÙƒÙ†" />        	
        </div>
        <div class="bot-item" onclick="selectBot('ØµØ§Ù†Ø¹ Ø§Ù„Ø¨ÙˆØªØ§Øª')">
            ØµØ§Ù†Ø¹ Ø§Ù„Ø¨ÙˆØªØ§Øª
            <img src="token_maker1.jpg" alt="ØµØ§Ù†Ø¹ Ø§Ù„Ø¨ÙˆØªØ§Øª" />
        </div>
    </div>
    <div class="chat-container">
        <h2> <span class="material-icons verification-icon">verified</span>Ø´Ø§Øª ÙˆØµØ§Ù†Ø¹ Ø¨ÙˆØªØ§Øª</h2>
        <div class="messages" id="messages"></div>
  	

       
        <div class="input-container">
        	    <button id="stickerButton" onclick="toggleStickers()">ğŸ˜Š</button>
<input type="text" id="userInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§..." />
    
            
            <button onclick="sendMessage()">          <lord-icon
                src="https://cdn.lordicon.com/kpnkzylb.json"
                trigger="loop"
                delay="2000"
                state="hover-rotation"
                colors="primary:#ffffff,secondary:#ffffff,tertiary:#ffffff,quaternary:#ffffff,quinary:#ffffff"
                style="width:30;height:30">
            </lord-icon>Ø¥Ø±Ø³Ø§Ù„</button>
        </div>
        <div class="bot-name-container" id="botNameContainer">
            <input type="text" id="botNameInput" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¨ÙˆØª (ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙ†ØªÙ‡ÙŠ Ø¨Ù€ 'bot' Ø£Ùˆ 'BOT')" />
            <button onclick="checkBotName()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
        </div>

        <div class="image-upload-container" id="imageUploadContainer">
            <input type="file" id="imageInput" accept="image/*" onchange="previewImage()" />
            <button onclick="confirmImage()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØµÙˆØ±Ø©</button>
            <img id="imagePreview" style="width: 100px; height: auto; display: none;" />
        </div>
<div class="input-container">
  	
</div>
    <div id="stickersMenu" class="stickers-menu" style="display: none;">
    <div class="sticker" onclick="sendSticker('ğŸ›¡ï¸')">ğŸ›¡ï¸</div>
    <div class="sticker" onclick="sendSticker('ğŸ˜ƒ')">ğŸ˜ƒ</div>
    <div class="sticker" onclick="sendSticker('â¤ï¸')">â¤ï¸</div>
    <div class="sticker" onclick="sendSticker('ğŸ˜‘')">ğŸ˜‘</div>
     <div class="sticker" onclick="sendSticker('â­')">â­</div>
            <div class="sticker" onclick="sendSticker('âœ…')">âœ…</div>
            <div class="sticker" onclick="sendSticker('ğŸŒ¹')">ğŸŒ¹</div>
                <div class="sticker" onclick="sendSticker('ğŸ‘½')">ğŸ‘½</div>
                    <div class="sticker" onclick="sendSticker('ğŸ¤¨')">ğŸ¤¨</div>
                        <div class="sticker" onclick="sendSticker('ğŸ˜')">ğŸ˜</div>
                            <div class="sticker" onclick="sendSticker('ğŸ”¥')">ğŸ”¥</div>
                                <div class="sticker" onclick="sendSticker('ğŸ§Š')">ğŸ§Š</div>
                                    <div class="sticker" onclick="sendSticker('â˜„ï¸')">â˜„ï¸</div>
                                        <div class="sticker" onclick="sendSticker('ğŸ•¸ï¸')">ğŸ•¸ï¸</div>
                                             <div class="sticker" onclick="sendSticker('â„ï¸')">â„ï¸</div>
                                                 <div class="sticker" onclick="sendSticker('ğŸš«')">ğŸš«</div>
                                                     <div class="sticker" onclick="sendSticker('ğŸ’¬')">ğŸ’¬</div>
                                                        <div class="sticker" onclick="sendSticker('ğŸ˜‚')">ğŸ˜‚</div>
                                                          <div class="sticker" onclick="sendSticker('â˜ ï¸')">â˜ ï¸</div>
                                                           <div class="sticker" onclick="sendSticker('ğŸ¤¡')">ğŸ¤¡</div>
                                                           <div class="sticker" onclick="sendSticker('ğŸ‘')">ğŸ‘</div>
                                                               <div class="sticker" onclick="sendSticker('ğŸ˜´')">ğŸ˜´</div>
                                                                   <div class="sticker" onclick="sendSticker('ğŸ˜')">ğŸ˜</div>
                                                                       <div class="sticker" onclick="sendSticker('ğŸ¥¶')">ğŸ¥¶</div>
                                                                           <div class="sticker" onclick="sendSticker('ğŸ˜›')">ğŸ˜›</div>
                                                                               <div class="sticker" onclick="sendSticker('ğŸ¤‘')">ğŸ¤‘</div>
    <!-- Ø£Ø¶Ù Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ù„ØµÙ‚Ø§Øª Ù‡Ù†Ø§ -->
</div>
        
        <div class="home-button" onclick="goHome()">Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
    </div>
</div>

<script>
    let activeBot = null;
    const messagesHistory = {};
    const commandsHistory = {};
    const commandColor = '#FF5733';
    
    const botImages = {};
    const botNames = {};
    const botTokens = {};
    const botColors = {
        'ØµØ§Ù†Ø¹ Ø§Ù„ØªÙˆÙƒÙ†': '#3498db', // Ù„ÙˆÙ† Ø®Ø§Øµ Ù„ØµØ§Ù†Ø¹ Ø§Ù„ØªÙˆÙƒÙ†
        'ØµØ§Ù†Ø¹ Ø§Ù„Ø¨ÙˆØªØ§Øª': '#e67e22', // Ù„ÙˆÙ† Ø®Ø§Øµ Ù„ØµØ§Ù†Ø¹ Ø§Ù„Ø¨ÙˆØªØ§Øª
        'Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©': '#2ecc71' // Ù„ÙˆÙ† Ø®Ø§Øµ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    };
    
    
    
    function saveBotToLocalStorage(botName, image, token) {
    const bots = JSON.parse(localStorage.getItem('bots')) || {};
    bots[botName] = { image, token };
    localStorage.setItem('bots', JSON.stringify(bots));
}

function sendAutomaticMessages() {
    const messages = [
        "1_ Ø¹Ø¯Ù… Ø§Ù„Ø³Ø¨",
        "2_ Ø¹Ø¯Ù… Ø³Ø±Ù‚Ø© Ø§Ù„ØªØµÙ…ÙŠÙ… Ø£Ùˆ Ù†Ø³Ø¨ Ø§Ù„ØªØµÙ…ÙŠÙ… Ù„Ù†ÙØ³Ù‡",
        "3_ ÙŠØ¬Ø¨ Ù…Ø±Ø§Ø¹Ø§Ø© ØµÙ†Ø¹ Ø§Ù„Ø¨ÙˆØªØ§Øª ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙˆØªØ§Øª Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø£Ø®Ù„Ø§Ù‚ÙŠØ© ÙˆÙ†Ø­Ù† Ù„Ø³Ù†Ø§ Ù…Ø³Ø¤ÙˆÙ„ÙŠÙ† Ø¹Ù† Ù…Ø§ ÙŠØ­Ø¯Ø«"
    ];

    messages.forEach(message => {
        appendMessage(message, 'bot-message', '#e67e22'); // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„ÙˆÙ† ØµØ§Ù†Ø¹ Ø§Ù„Ø¨ÙˆØªØ§Øª
    });
}



function initiateSearchProcess(query) {
    const searchMessages = [
        `Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù†: ${query}...`,
        `Ø£Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø°Ø§Øª Ø§Ù„ØµÙ„Ø©...`,
        `ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...`,
        `Ø£Ø­Ø¶Ø± Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¢Ù†...`
    ];

    let index = 0;

    const interval = setInterval(() => {
        if (index < searchMessages.length) {
            appendMessage(searchMessages[index], 'bot-message', '#e67e22');
            index++;
        } else {
            clearInterval(interval);
            openSearch(query); // ÙØªØ­ Ø§Ù„Ø¨Ø­Ø« Ø¨Ø¹Ø¯ Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
        }
    }, 1500); // Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙƒÙ„ 1.5 Ø«Ø§Ù†ÙŠØ©
}

function startAutomaticMessaging() {
    setInterval(() => {
        if (!activeBot) { // ØªØ­Ù‚Ù‚ Ù…Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù…ÙØªÙˆØ­Ø©
            sendAutomaticMessages();
        }
    },700); // Ø¥Ø± Ø«ÙˆØ§Ù†ÙŠ

}
const badWords = ["Ø´ØªÙŠÙ…Ø©1", "Ø´ØªÙŠÙ…Ø©2", "ÙƒØ³Ù…Ùƒ", "Ù…ØªÙ‡Ø§Ù†" ]; // Ø§Ø³ØªØ¨Ø¯Ù„ Ø¨Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©

function containsBadWords(message) {
    return badWords.some(badWord => message.includes(badWord));
}



function handleMessage(userInput, userId) {
    // Ø³Ø¬Ù‘Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø©
    console.log("Received message:", userInput);

    // ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø³ÙŠØ¦Ø©
    if (containsBadWords(userInput)) {
 
        appendMessage(`ØªÙ… Ø­Ø°Ù Ø±Ø³Ø§Ù„ØªÙƒ "${userInput}" Ø¨Ø³Ø¨Ø¨ Ø§Ù†ØªÙ‡Ø§ÙƒÙ‡Ø§ Ù„Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ÙƒÙŠØ©`, 'user-message', '#FF5733'); 
        
        muteUser(userId);
        return; 
    }

    // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„ÙŠØ³Øª Ø£Ù…Ø±Ù‹Ø§
    
    else {
        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        // Check if the input is a command and store it
        if (userInput.startsWith('/')) {
        	
            if (!commandsHistory[activeBot]) {
                commandsHistory[activeBot] = []; // ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…ØµÙÙˆÙØ© Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©
            }
            
            commandsHistory[activeBot].push(userInput);
        } 
        
        // Ensure the message is sent only once
        if (!userInput.startsWith('/')) {
            
        } 
        if (userInput.startsWith('/search ')) {
            const query = userInput.substring(8); // Ø¥Ø²Ø§Ù„Ø© `/search `
            initiateSearchProcess(query); // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø¯Ø§Ù„Ø© Ø§Ù„Ø¨Ø­Ø«
            appendMessage(`ÙØªØ­ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù†: ${query}`, 'bot-message', '#e67e22');  
        } else if (userInput === '/newbot') {
            document.getElementById('botNameContainer').style.display = 'block';
        } else if (userInput.startsWith('/deletebot ')) {
            const botName = userInput.split(' ')[1];
            deleteBot(botName);
        }
        appendMessage(userInput, 'command-message', '#FF5733'); // Ø¹Ø±Ø¶ Ø§Ù„Ø£Ù…Ø± Ø§Ù„Ù…Ø±Ø³Ù„
    
    }
    
}
       
const muteCounts = {};

function muteUser(userId) {
    // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙˆÙ‚Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ø§Ù„Ø´ØªÙ…
    const count = muteCounts[userId] || 0;
    const muteTime = 10+ count * 5; // Ø§Ù„ÙˆÙ‚Øª ÙŠØ¨Ø¯Ø£ Ù…Ù† 10 Ø«ÙˆØ§Ù†ÙŠ ÙˆÙŠØ²Ø¯Ø§Ø¯ 5 Ø«ÙˆØ§Ù†ÙŠ ÙƒÙ„ Ù…Ø±Ø©
    muteCounts[userId] = count + 1; // Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¹Ø¯Ø§Ø¯

    const muteScreen = document.createElement('div');
    muteScreen.id = 'muteScreen';
    muteScreen.style.position = 'fixed';
    muteScreen.style.top = '0';
    muteScreen.style.left = '0';
    muteScreen.style.width = '100%';
    muteScreen.style.height = '100%';
    muteScreen.style.backgroundColor = 'rgba(0, 0, 0, 0.7)';
    muteScreen.style.color = 'red';
    muteScreen.style.fontSize ='48px';
    muteScreen.style.display = 'flex';
    muteScreen.style.justifyContent = 'center';
    muteScreen.style.alignItems = 'center';
    muteScreen.innerHTML = `Ø£Ù†Øª Ù…ÙƒØªÙˆÙ… Ù„Ù…Ø¯Ø© ${muteTime} Ø«Ø§Ù†ÙŠØ©`;
    document.body.appendChild(muteScreen);

    let countdown = muteTime;
    let muteTimer = setInterval(() => {
        countdown--;
        muteScreen.innerHTML = `Ø£Ù†Øª Ù…ÙƒØªÙˆÙ… Ù„Ù…Ø¯Ø© ${countdown} Ø«Ø§Ù†ÙŠØ©`;

        if (countdown <= 0) {
            clearInterval(muteTimer);
            const existingMuteScreen = document.getElementById('muteScreen');
            if (existingMuteScreen) {
                document.body.removeChild(existingMuteScreen);
            } else {
                console.log("Ø§Ù„Ø¹Ù†ØµØ± ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø§Ù„Ù€ DOM");
            }
            appendMessage("ØªÙ… Ø±ÙØ¹ Ø§Ù„ÙƒØªÙ…", 'bot-message', '#2ecc71');
        }
    }, 1000);
}

function openSearch(query) {
    const searchURL = `https://www.google.com/search?q=${encodeURIComponent(query)}`;
    window.open(searchURL, '_blank'); // ÙŠÙØªØ­ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙÙŠ Ù†Ø§ÙØ°Ø© Ø¬Ø¯ÙŠØ¯Ø©
}

    function selectBot(botName) {
        activeBot = botName;
        const messagesContainer = document.getElementById('messages');
        messagesContainer.innerHTML = '';
    
    
const welcomeMessage = `${botName} Ù‡Ùˆ Ø§Ù„Ø¢Ù† Ù…ÙØªÙˆØ­ Ù„Ù„Ù…Ø­Ø§Ø¯Ø«Ø©. Ø§ÙƒØªØ¨ <span style="color: red;">/newbot</span> Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙˆØª Ø¬Ø¯ÙŠØ¯.`

    appendMessage(welcomeMessage, 'bot-message', botColors[botName]);
    loadCommands();
    appendMessage(`${botName} Ù‡Ùˆ Ø§Ù„Ø¢Ù† Ù…ÙØªÙˆØ­ Ù„Ù„Ù…Ø­Ø§Ø¯Ø«Ø©. Ø§ÙƒØªØ¨ /newbot Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙˆØª Ø¬Ø¯ÙŠØ¯.`, 'bot-message', botColors[botName]);
        loadCommands();
}
        function sendSticker(sticker) {
    const userInput = document.getElementById('userInput').value.trim(); // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù†Øµ Ù…Ù† Ø§Ù„Ù…Ø¯Ø®Ù„
    let message = sticker; // Ø¨Ø¯Ø¡ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ø§Ù„Ø§Ø³ØªÙŠÙƒØ±

    // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ù†Øµ ÙÙŠ Ø§Ù„Ù…Ø¯Ø®Ù„ØŒ Ø£Ø¶ÙÙ‡ Ø¥Ù„Ù‰ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
    if (userInput) {
        message = `${userInput} ${sticker}`; // Ø§Ø¯Ù…Ø¬ Ø§Ù„Ù†Øµ Ù…Ø¹ Ø§Ù„Ø§Ø³ØªÙŠÙƒØ±
        document.getElementById('userInput').value = ''; // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
    } else {
        document.getElementById('userInput').value = ''; // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
    }

    appendMessage(message, 'user-message', '#3498db'); // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©
    toggleStickers(); // Ø¥ØºÙ„Ø§Ù‚ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ØµÙ‚Ø§Øª Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±
}
        
        function toggleStickers() {
    const stickersMenu = document.getElementById('stickersMenu');
    stickersMenu.style.display = stickersMenu.style.display === 'none' ? 'block' : 'none';
}



 
    function sendMessage() {
    const userInput = document.getElementById('userInput').value.trim();      
    const userId = 'someUniqueUserId'; 
    if (userInput) {
        handleMessage(userInput, userId);

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
        document.getElementById('userInput').value = '';
    }
}
    
    function checkBotName() {
        const botName = document.getElementById('botNameInput').value.trim();

        if (!botName.endsWith('bot') && !botName.endsWith('BOT')) {
            appendMessage(`Ø§Ø³Ù… Ø§Ù„Ø¨ÙˆØª ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙ†ØªÙ‡ÙŠ Ø¨Ù€ 'bot' Ø£Ùˆ 'BOT'.`, 'bot-message', '#e74c3c');
            return;
        }

        botNames[botName] = botName;
        botColors[botName] = `#${Math.floor(Math.random() * 16777215).toString(16)}`;
        messagesHistory[botName] = [];
        commandsHistory[botName] = [];
        document.getElementById('botNameContainer').style.display = 'none';
        document.getElementById('imageUploadContainer').style.display = 'block';
        appendMessage(`ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø§Ø³Ù… Ø§Ù„Ø¨ÙˆØª: ${botName}. ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø©.`, 'bot-message', botColors[botName]);
    }

    function previewImage() {
        const imageInput = document.getElementById('imageInput');
        const imagePreview = document.getElementById('imagePreview');
        
        if (imageInput.files && imageInput.files[0]) {
            const reader = new FileReader();
            reader.onload = function(event) {
                imagePreview.src = event.target.result;
                imagePreview.style.display = 'block';
            };
            reader.readAsDataURL(imageInput.files[0]);
        }
    }

    function generateToken() {
        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
        let token = '';
        for (let i = 0; i < 16; i++) {
            token += chars.charAt(Math.floor(Math.random() * chars.length));
        }
        return token;
    }

    function confirmImage() {
        const imageInput = document.getElementById('imageInput');

        if (imageInput.files.length === 0) {
            appendMessage(`ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© Ù„Ù„Ø¨ÙˆØª.`, 'bot-message', '#e74c3c');
            return;
        }

        const botName = Object.keys(botNames)[Object.keys(botNames).length - 1];
        const reader = new FileReader();
        reader.onload = function(event) {
            botImages[botName] = event.target.result;
            const token = generateToken();
            botTokens[botName] = token;
            saveBotToLocalStorage(botName, botImages[botName], token);
            appendMessage(`ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¨ÙˆØª: ${botName}`, 'bot-message', botColors[botName]);
            appendMessage(`ØªÙˆÙƒÙ†: ${token}`, 'bot-message', botColors[botName]);
            displayBot(botName, token);
            document.getElementById('imageUploadContainer').style.display = 'none';
        };
        reader.readAsDataURL(imageInput.files[0]);
    }
    
    function deleteBot(botName) {
    if (botNames[botName]) {
        delete botNames[botName];
        delete botImages[botName];
        delete botTokens[botName];
        delete messagesHistory[botName];
        delete commandsHistory[botName];
        const bots = JSON.parse(localStorage.getItem('bots')) || {};
        delete bots[botName];  // Ø§Ø­Ø°Ù Ø§Ù„Ø¨ÙˆØª Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ†
        localStorage.setItem('bots', JSON.stringify(bots));  // Ø§Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
        const botList = document.getElementById('botList');
        const botItem = Array.from(botList.children).find(item => item.innerText.includes(botName));
        if (botItem) {
            botList.removeChild(botItem);
        }

        appendMessage(`ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¨ÙˆØª: ${botName}`, 'bot-message', '#e74c3c');
        saveData();
    } else {
        appendMessage(`Ø§Ù„Ø¨ÙˆØª ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯: ${botName}`, 'bot-message', '#e74c3c');
    }
}



    function displayBot(botName, token) {
        const botList = document.getElementById('botList');
        const botItem = document.createElement('div');
        botItem.className = 'bot-item';
        botItem.innerHTML = `${botName} <img src="${botImages[botName]}" />`;
        botItem.onclick = () => selectBot(botName); // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¨ÙˆØª Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ·
        botList.appendChild(botItem);
        
        // Ø¥Ø¶Ø§ÙØ© Ø£Ù„ÙˆØ§Ù† Ù„Ù„Ø¨ÙˆØªØ§Øª Ø§Ù„Ù…ØµÙ†ÙˆØ¹Ø©
        botColors[botName] = `#${Math.floor(Math.random() * 16777215).toString(16)}`;
        appendMessage(`ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨ÙˆØª: ${botName} Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©!`, 'bot-message', botColors[botName]);
    }

    function appendMessage(text, className, color) {
        const messagesContainer = document.getElementById('messages');
        let messageHtml = `<div class="${className}" style="color: ${color};">${text}</div>`;
    
    // Ø¥Ø¶Ø§ÙØ© Ø¥Ø·Ø§Ø± Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø£Ù…Ø±
    if (className === 'command-message') {
        messageHtml = `<div class="command-frame">${messageHtml} </div>`;
    }
   
   
        messagesContainer.innerHTML += messageHtml;
        if (activeBot) {
            messagesHistory[activeBot].push(text); // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙÙŠ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ù†Ø´Ø·
        }
        saveData();
        messagesContainer.scrollTop = messagesContainer.scrollHeight; // Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ø£Ø³ÙÙ„
    }

    function loadCommands() {
        const commandsContainer = document.getElementById('commands');
        commandsContainer.innerHTML = '';
        if (activeBot && commandsHistory[activeBot]) {
            commandsHistory[activeBot].forEach(cmd => {
            	const commandHtml = `<div class="command-message">${cmd}</div>`;
                commandsContainer.innerHTML += `<div class="command-message">${cmd}</div>`;
                
            });
        }
    }

    function goHome() {
        activeBot = null;
        const messagesContainer = document.getElementById('messages');
        messagesContainer.innerHTML = '';
        appendMessage(`Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©! Ø§Ø®ØªØ± Ø¨ÙˆØªÙ‹Ø§ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©.`, 'bot-message', botColors['Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©']);
    }

    function saveData() {
        localStorage.setItem('messagesHistory', JSON.stringify(messagesHistory));
        localStorage.setItem('commandsHistory', JSON.stringify(commandsHistory));
    }

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
    window.onload = function() {
        const savedMessages = localStorage.getItem('messagesHistory');
        const savedCommands = localStorage.getItem('commandsHistory');        
        const username = localStorage.getItem("username");
        const verificationCode = localStorage.getItem("verificationCode");
        const savedBots = localStorage.getItem('bots');

        if (savedMessages) {
            Object.assign(messagesHistory, JSON.parse(savedMessages));
        }
        if (savedCommands) {
            Object.assign(commandsHistory, JSON.parse(savedCommands));
        }
        if (savedBots) {
        const bots = JSON.parse(savedBots);
        for (const botName in bots) {
            const bot = bots[botName];
            botNames[botName] = botName;
            botImages[botName] = bot.image;
            botTokens[botName] = bot.token;
            displayBot(botName, bot.token);  // Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙˆØª ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
        }
         }
         
         if (username && verificationCode) {
            document.getElementById("verificationMessage").innerText = 
                `Ù…Ø±Ø­Ø¨Ù‹Ø§ ${username}, ÙƒÙˆØ¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù‡Ùˆ: ${verificationCode}`;
        } else {
            document.getElementById("verificationMessage").innerText = 
                "Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙƒÙˆØ¯ ØªØ­Ù‚Ù‚ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….";
        }
         
    startAutomaticMessaging();
    }; 
</script>

</body>
  </html>
